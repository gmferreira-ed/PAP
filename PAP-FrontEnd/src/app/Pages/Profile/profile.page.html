<page-layout>


    <loading-screen [IsLoading]="LoadingInfo" 
        LoaderStyle="Spinner" 
        [ShowBackground]="true"
        [ShowContainer]="true"
        [Fullscreen]="false">
    </loading-screen>

    <div class="profile-layout">

        <div class="user-image-container">
            <img [src]="FileSelector.Files[0]?.imagebase64 || UserImagesURL+User()?.username"
                onerror="this.src='Images/Profile.png'" class="pfp">
            <div class="overlay invisible">
                <file-select #FileSelector [override]="true" UploadDisplayMode="none"
                    [disabled]="CurrentUser() == User()" (FilesChange)="ChangeUserImage($event)">
                    <label>{{'Edit Image' | translate}}</label>
                    <nz-icon nzType="edit"></nz-icon>
                </file-select>
            </div>
        </div>

        <div class="profile-collumn" style="padding-left: 5px; justify-content: space-between;">
            <div class="profile-collumn">
                <div class="row wrap">
                    <label class="fullname">{{User()?.fullname}}</label>
                    <div class="row fill wrap" style="justify-content: end;">
                        <button nz-button nzType="primary">
                            <nz-icon nzType="security-scan" nzTheme="outline" />
                            Change Permissions
                        </button>
                        <button nz-button nzDanger>
                            <nz-icon nzType="user-delete" nzTheme="outline" />
                            Deactivate User
                        </button>
                    </div>
                </div>
                <label class="username">{{User()?.username}} - {{User()?.role}}</label>
            </div>


            <div class="profile-row">
                <div class="profile-collumn">
                    <label class="info-label">{{'Email' | translate }}</label>
                    <label id="email">{{User()?.email}}</label>
                </div>

                <div class="profile-collumn">
                    <label class="info-label">{{'Phone Number' | translate }}</label>
                    <label id="phone">{{User()?.phone}}</label>
                </div>

                <div class="profile-collumn">
                    <label class="info-label">{{'Register Date' | translate }}</label>
                    <label>{{User()?.created | date: 'longDate'}}</label>
                </div>

                @if (User()?.adress){
                <div class="profile-collumn">
                    <label class="info-label">Adress</label>
                    <label>{{User()?.adress}} {{User()?.city}} {{User()?.country}} {{User()?.postalcode}}</label>
                </div>
                }
            </div>

        </div>
    </div>
</page-layout>